{"version":3,"file":"629.bundle.js","mappings":"mTAiBA,IAAIA,EACJ,SAASC,EAAWC,GAChB,OAAQ,gBAAoB,IAAW,KACnC,gBAAoB,IAAU,KAC1B,gBAAoB,IAAW,CAAEC,MAAO,UAAY,KACpD,gBAAoB,IAAW,CAAEA,MAAO,UAAY,QACpD,gBAAoB,IAAW,CAAEA,MAAO,UAAY,SACpD,gBAAoB,IAAW,CAAEA,MAAO,SAAW,aAE/D,SAASC,EAAKF,GACV,MAAM,KAAEG,EAAI,IAAEC,GAAQJ,GACfK,EAAOC,GAAY,WAAeH,EAAKI,UAOxCC,EAAYV,EAAIW,KAAKC,OAAOC,KAAKR,GAAS,gBAAoB,IAAU,CAAES,IAAK,SAAST,EAAKU,KAAMC,MAAOX,EAAKU,IAAMV,EAAKY,QAChI,OAAQ,gBAAoB,IAAU,KAClC,gBAAoB,IAAW,CAAEd,MAAO,UAAYG,EAAM,GAC1D,gBAAoB,IAAW,CAAEH,MAAO,UAAYE,EAAKa,MACzD,gBAAoB,IAAW,CAAEf,MAAO,UAAYE,EAAKc,QACzD,gBAAoB,IAAW,CAAEhB,MAAO,QAASiB,GAAI,CAAEC,EAAG,IACtD,gBAAoB,IAAa,CAAED,GAAI,CAAEE,EAAG,EAAGC,SAAU,KAAOC,KAAM,SAClE,gBAAoB,IAAQ,CAAER,MAAOT,EAAOkB,QAAS,WAAYC,SAbtDC,IACnB,MAAMC,EAAWD,EAAME,OAAOb,MAC9BR,EAASoB,GAETvB,EAAKyB,UAAU,CAAErB,SAAUmB,MASyElB,MAE5G,SAASqB,EAAO7B,IACM,OAAYF,EAAIgC,UAAW,UAAW,CAAC,eAAzD,MAGMC,EAFQjC,EAAIkC,GAAGC,SAASC,MAEXvB,KAAI,CAACR,EAAMgC,IAAM,gBAAoBjC,EAAM,CAAEU,IAAK,OAAOT,EAAKU,KAAMV,KAAMA,EAAMC,IAAK+B,MACxG,OAAQ,gBAAoB,IAAO,CAAEjB,GAAI,CAAEkB,SAAU,QAASC,GAAI,SAC9D,gBAAoBtC,EAAY,MAChC,gBAAoB,IAAW,KAAMgC,IAE9B,SAASO,EAAUtC,GAC9B,MAAMuC,EAAa,GAoBnB,OAjBAA,EAAWC,KAAK,gBAAoB,IAAK,CAAE5B,IAAK,cAAeM,GAAI,CAAEC,EAAG,IAAO,sBAC/ErB,GAAM,SAgBE,gBAAoB,IAAS,CAAEyC,WAAYA,GAC/C,gBAAoB,KAAU,KAAM,gCACpC,gBAAoB,OAAQ,KACxB,gBAAoB,IAAQ,CAAEE,MAAO,UAAWlB,QAAS,YAAamB,QANzD,KACjB5C,EAAI6C,GAAGC,MAAM,OAAQ,oBAK8E,SAC/F,gBAAoB,IAAQ,CAAEH,MAAO,YAAalB,QAAS,YAAamB,QAbhE,KAGZ,MAAMG,EAAQ/C,EAAIkC,GAAGC,SAASC,MAC9BY,QAAQC,IAAI,UAAWF,KASyE,sBAC5F,gBAAoB,IAAQ,CAAEJ,MAAO,UAAWlB,QAAS,YAAamB,QAlB1D,KAChB,MAAMM,EAASlD,EAAI6C,GAAGM,OACtBH,QAAQC,IAAI,WAAYC,KAgB0E,aAClG,gBAAoBnB,EAAQ","sources":["webpack://abtr_front/./src/components/MainTable/MainTable.tsx"],"sourcesContent":["import React from 'react';\r\n// import { styled } from '@mui/material/styles';\r\nimport { StyledH3 } from '../theme';\r\n// import { useSnackbar } from 'notistack';\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport Select from '@mui/material/Select';\r\nimport Box from '@mui/material/Box';\r\nimport Button from '@mui/material/Button';\r\nimport Desktop from '../Desktop/Desktop';\r\nimport { useApi } from '../../api/api_provider';\r\nimport { useListener } from '../../hooks';\r\nlet api;\r\nfunction ATableHead(props) {\r\n    return (React.createElement(TableHead, null,\r\n        React.createElement(TableRow, null,\r\n            React.createElement(TableCell, { align: \"center\" }, \"\\u2116\"),\r\n            React.createElement(TableCell, { align: \"center\" }, \"IMEI\"),\r\n            React.createElement(TableCell, { align: \"center\" }, \"\\u041D\\u043E\\u043C\\u0435\\u0440\"),\r\n            React.createElement(TableCell, { align: \"right\" }, \"\\u041C\\u0430\\u0440\\u0448\\u0440\\u0443\\u0442\"))));\r\n}\r\nfunction ARow(props) {\r\n    const { item, num } = props;\r\n    const [route, setRoute] = React.useState(item.route_id);\r\n    const onChangeRoute = (event) => {\r\n        const newRoute = event.target.value;\r\n        setRoute(newRoute);\r\n        // item.setRoute(newRoute);\r\n        item.setFields({ route_id: newRoute });\r\n    };\r\n    const menuItems = api.data.routes.map((item) => React.createElement(MenuItem, { key: `route-${item.id}`, value: item.id }, item.code));\r\n    return (React.createElement(TableRow, null,\r\n        React.createElement(TableCell, { align: \"center\" }, num + 1),\r\n        React.createElement(TableCell, { align: \"center\" }, item.IMEI),\r\n        React.createElement(TableCell, { align: \"center\" }, item.RegNum),\r\n        React.createElement(TableCell, { align: \"right\", sx: { p: 0 } },\r\n            React.createElement(FormControl, { sx: { m: 1, minWidth: 120 }, size: \"small\" },\r\n                React.createElement(Select, { value: route, variant: 'standard', onChange: onChangeRoute }, menuItems)))));\r\n}\r\nfunction ATable(props) {\r\n    const refresher = useListener(api.listeners, 'refresh', ['main-table']);\r\n    const items = api.cw.vehicles.get();\r\n    // console.log('items: ', items);\r\n    const rows = items.map((item, i) => React.createElement(ARow, { key: `vid-${item.id}`, item: item, num: i }));\r\n    return (React.createElement(Table, { sx: { maxWidth: '500px', mx: 'auto' } },\r\n        React.createElement(ATableHead, null),\r\n        React.createElement(TableBody, null, rows)));\r\n}\r\nexport default function MainTable(props) {\r\n    const drawerBody = [];\r\n    // drawerBody.push(<TestTitle key='TestTitle'/>);\r\n    // drawerBody.push(<PageSelector key='PageSelector'/>);\r\n    drawerBody.push(React.createElement(Box, { key: 'title-items', sx: { p: 1 } }, \"\\u0421\\u043E\\u0434\\u0435\\u0440\\u0436\\u0438\\u043C\\u043E\\u0435 drawer\"));\r\n    api = useApi();\r\n    // api.cw.\r\n    // api.hello();\r\n    const onClickSave = () => {\r\n        const result = api.db.save();\r\n        console.log('result: ', result);\r\n    };\r\n    const onClick = () => {\r\n        // console.log('Button click');\r\n        // api.hello();\r\n        const items = api.cw.vehicles.get();\r\n        console.log('items: ', items);\r\n    };\r\n    const onClickLogin = () => {\r\n        api.db.login('tbus', 'UhfxbGhbktntkb');\r\n    };\r\n    return (React.createElement(Desktop, { drawerBody: drawerBody },\r\n        React.createElement(StyledH3, null, \"It's Main Table component...\"),\r\n        React.createElement(\"span\", null,\r\n            React.createElement(Button, { color: \"primary\", variant: \"contained\", onClick: onClickLogin }, \"Login\"),\r\n            React.createElement(Button, { color: \"secondary\", variant: \"contained\", onClick: onClick }, \"Add new experiment\"),\r\n            React.createElement(Button, { color: \"warning\", variant: \"contained\", onClick: onClickSave }, \"\\u0417\\u0430\\u043F\\u0438\\u0441\\u0430\\u0442\\u044C\")),\r\n        React.createElement(ATable, null)));\r\n}\r\n"],"names":["api","ATableHead","props","align","ARow","item","num","route","setRoute","route_id","menuItems","data","routes","map","key","id","value","code","IMEI","RegNum","sx","p","m","minWidth","size","variant","onChange","event","newRoute","target","setFields","ATable","listeners","rows","cw","vehicles","get","i","maxWidth","mx","MainTable","drawerBody","push","color","onClick","db","login","items","console","log","result","save"],"sourceRoot":""}