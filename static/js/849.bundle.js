"use strict";(self.webpackChunkabtr_front=self.webpackChunkabtr_front||[]).push([[849],{2961:function(e,n,t){var r=t(5318);n.Z=void 0;var a=r(t(4938)),o=t(5893),i=(0,a.default)((0,o.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");n.Z=i},2450:function(e,n,t){var r=t(5318);n.Z=void 0;var a=r(t(4938)),o=t(5893),i=(0,a.default)((0,o.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff");n.Z=i},3505:function(e,n,t){t.d(n,{Z:function(){return M}});var r=t(7294),a=t(9602),o=t(1298),i=t(1508),l=t(7049),s=t(789),c=t(3926),d=t(4386),m=t(3461),p=t(6131);let x;function u(e){x=(0,m.h_)();const n=s.SB&&s.SB.drawer||{css:{}};return r.createElement(g,{drawerConfig:n,...e})}function g(e){const{drawerBody:n,drawerConfig:t}=e,a=((0,p.o)(x.listeners,"refresh",["drawer"]),x.isDrawerOpen);return r.createElement(r.Fragment,null,r.createElement(c.Z,{onClickAway:()=>{x.toggleDrawerOpen(!1)}},r.createElement(l.ZP,{variant:"permanent",PaperProps:{sx:{backgroundColor:"usertest.extraLight",background:"linear-gradient(160deg, rgba(243,240,238,1) 0%, rgba(255,239,221,1) 40%, rgba(193,208,232,1) 100%)",boxShadow:"0 0 4px 2px #bbb",transition:"margin 500ms ease",overflowX:"hidden",justifyContent:"flex-start",alignContent:"flex-start",width:"215px",marginLeft:{xs:a?0:"-215px",md:0},...t.css||{}}}},r.createElement(d.Z,{sx:{zIndex:1}}),n)),r.createElement(i.Z,{sx:{transition:"width 500ms ease",alignSelf:"stretch",width:{xs:0,md:"215px",flex:"none"}}}))}var h=t(802),f=t(6272),w=t(6867),b=t(7109),Z=t(2761),E=t(326),v=t(3540),B=t(9123),y=t(2658);let S;const C=(0,a.ZP)("div")`
  padding-left: 23px;
  margin: 0;
  z-index: 1205;
  display: inline-flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  flex-grow: 0;
  position: fixed;
  box-sizing: border-box;
  color: ${s.SB?.header?.css?.color||"#5D6D97"};
  box-shadow: ${s.SB?.header?.css?.boxShadow||"0 0 5px 2px #999"};
  background-color: ${s.SB?.header?.css?.backgroundColor||"white"}
  @media (max-width: 500px) {
    padding-left: 0
  }
`,F=(0,a.ZP)("div")((({theme:e})=>`\n  display: flex;\n  margin-left: 50px;\n  margin-right: 16px;\n  padding: 0 8px;\n  width: 100%;\n  height: 28px;\n  background: #FFFFFF;\n  border: 1px solid;\n  border-color: transparent;\n  border-radius: 20px;\n  color: #BBBBBB;\n  transition: margin 500ms ease-out;\n  tabindex: 999;\n  @media (max-width: 350px) {\n    display: none;\n  };\n  @media (max-width: 500px) {\n    margin-left: 8px;\n    margin-right: 8px;\n    transition: margin 200ms ease-out;\n  };\n  :hover, :active, :focus {\n    border-color:  ${e.palette.primary.main};\n  };\n`)),k=(0,a.ZP)("span")`
  height: 100%;
  pointer-events: none;
  flex:none;
  padding: 2px 0;
  @media (max-width: 450px) {
    display: none;
  }
`,z=(0,a.ZP)("input")((({theme:e})=>`\n  width: 276px;\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 16px;\n  transition: width 500ms ease;\n  background: transparent;\n  color: #BBBBBB;\n  border: none;\n  tabindex: 1;\n  ::placeholder {color: #BBBBBB};\n  :hover {\n    color: ${e.palette.primary.main};\n  };\n  :focus {\n    color: ${e.palette.primary.main};\n    outline: none;\n    width: 450px;\n    transition: width 200ms ease-out;\n  };\n  @media (max-width: 700px) {\n    width: 120px\n  }\n  `)),P=(0,a.ZP)("div")((({theme:e})=>({display:"inline-flex",alignItems:"center",flexDirection:"row",...e.mixins.toolbar}))),_=(0,a.ZP)("span")`
  display: inline-flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  flex-grow: 0
`;function $(e){const{onClose:n,subTitle:t}=e,a="AB Test Real";S=(0,m.h_)();const o=s.SB&&s.SB.header||{css:{}};(0,p.o)(S.listeners,"refresh",["header"]);return r.createElement(r.Fragment,null,r.createElement(C,{sx:{...o.css||{}}},r.createElement(P,null,r.createElement(w.Z,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:e=>{e.preventDefault(),e.stopPropagation(),S.toggleDrawerOpen()},tabIndex:1,sx:{m:0,display:{xs:e.drawerBody?"flex":"none",md:"none"}}},r.createElement(E.Z,null)),t&&S.is_logged?r.createElement(i.Z,{sx:{flex:"none",position:"relative"}},r.createElement(y.Z,{variant:"h1",noWrap:!0,color:"primary"},a),r.createElement(i.Z,{sx:{position:"absolute",whiteSpace:"nowrap",bottom:"-12px",opacity:"0.7",fontWeight:"normal",fontSize:14,lineHeight:"14px"}},t)):r.createElement(y.Z,{variant:"h1",noWrap:!0,sx:{flex:"none"},color:"primary"},a),r.createElement(F,null,r.createElement(k,null,r.createElement(Z.Z,{sx:{color:"#BBBBBB"}})),r.createElement(z,{placeholder:"Поиск…",tabIndex:2}))),r.createElement(_,null,S.is_logged&&r.createElement(b.Z,{alt:"Nice User",src:"/img/face01.png",sx:{"@media (max-width:450px)":{display:"none"}}}),r.createElement(f.Z,{title:S.is_logged?"Выйти":"Войти",arrow:!0},r.createElement(h.Fg,{to:S.is_logged?"/":"/login",tabIndex:-1},r.createElement(w.Z,{edge:"start",onClick:S.is_logged?e=>{S.is_logged&&S.db2_abtr.logout()}:()=>{},"aria-label":"close",tabIndex:3,sx:{color:"primary.main",ml:{xs:.5,sm:1,md:3},mr:{xs:.5,sm:1,md:2}}},S.is_logged?r.createElement(v.Z,{fontSize:"medium"}):r.createElement(B.Z,{fontSize:"medium"})))))),r.createElement(d.Z,{sx:{zIndex:1,m:0}}))}var D=t(6501);const W=(0,a.ZP)("main")`
  display: flex;
  flex-grow: 1;
  width: 100%;
  padding: 0;
  transition: padding 500ms ease-out;
  background-color: ${s.SB?.body?.css?.backgroundColor||"#E8F1FF"};
  box-shadow: ${s.SB?.body?.css?.boxShadow||"none"}
`,I=(0,a.ZP)(D.Z)((({theme:e})=>({textAlign:"center",width:"802px",maxWidth:"802px",minWidth:"350px",margin:e.spacing(2,"auto"),padding:e.spacing(2),display:"flex",flexFlow:"column wrap",flexGrow:1,boxSizing:"border-box",alignSelf:"stretch",backgroundColor:s.SB?.paper?.css?.backgroundColor||"white",minHeight:`calc(100vh - ${Number("58")+32}px )`,"@media (max-width:802px)":{margin:0,minHeight:`calc(100vh - ${Number("58")}px )`}})));function M(e){return r.createElement(r.Fragment,null,r.createElement($,{...e}),r.createElement(i.Z,{sx:{display:"flex",alignItems:"stretch"}},e.drawerBody&&r.createElement(u,{...e}),r.createElement(o.$B,{style:{width:"100vw",height:"calc(100vh - 58px)"}},r.createElement(W,null,r.createElement(I,{elevation:5},e.children)))))}},849:function(e,n,t){t.r(n),t.d(n,{default:function(){return _}});var r=t(7294),a=t(2658),o=t(1508),i=t(6914),l=t(3366),s=t(7462),c=t(6010),d=t(7192),m=t(9602),p=t(9130),x=t(8979);function u(e){return(0,x.Z)("MuiFormGroup",e)}(0,t(6087).Z)("MuiFormGroup",["root","row","error"]);var g=t(9068),h=t(5704),f=t(5893);const w=["className","row"],b=(0,m.ZP)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,t.row&&n.row]}})((({ownerState:e})=>(0,s.Z)({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})));var Z=r.forwardRef((function(e,n){const t=(0,p.Z)({props:e,name:"MuiFormGroup"}),{className:r,row:a=!1}=t,o=(0,l.Z)(t,w),i=(0,g.Z)(),m=(0,h.Z)({props:t,muiFormControl:i,states:["error"]}),x=(0,s.Z)({},t,{row:a,error:m.error}),Z=(e=>{const{classes:n,row:t,error:r}=e,a={root:["root",t&&"row",r&&"error"]};return(0,d.Z)(a,u,n)})(x);return(0,f.jsx)(b,(0,s.Z)({className:(0,c.Z)(Z.root,r),ownerState:x,ref:n},o))})),E=t(9542),v=t(270),B=t(6867),y=t(2961),S=t(2450),C=t(802),F=t(3505),k=t(3461),z=t(5108);let P;function _(e){const[n,t]=r.useState(""),[l,s]=r.useState(""),[c,d]=r.useState(!1),[m,p]=r.useState("");P=(0,k.h_)();return r.createElement(F.Z,null,r.createElement(o.Z,{sx:{m:"auto",pb:"15%",minWidth:"300px",flex:"0 1 auto",width:"350px"}},r.createElement(a.Z,{variant:"h1",noWrap:!0,color:"primary",sx:{m:2}},"Вход в систему"),m&&r.createElement(E.Z,{error:!0,fullWidth:!0,sx:{marginTop:"8px"},id:"outlined-multiline-flexible",label:"Ошибка авторизации",multiline:!0,value:m,InputProps:{readOnly:!0},variant:"outlined"}),r.createElement(Z,null,r.createElement(E.Z,{value:n,margin:"dense",id:"username",label:"Имя пользователя",type:"text",fullWidth:!0,onChange:e=>{t(e.target.value)}}),r.createElement(E.Z,{value:l,margin:"dense",id:"password",label:"Пароль",type:c?"text":"password",fullWidth:!0,onChange:e=>{s(e.target.value)},InputProps:{endAdornment:r.createElement(v.Z,{position:"end"},r.createElement(B.Z,{"aria-label":"toggle password visibility",onClick:()=>d(!c),onMouseDown:e=>e.preventDefault()},c?r.createElement(y.Z,null):r.createElement(S.Z,null)))}})),r.createElement("span",null,r.createElement(C.Fg,{to:"/map"},r.createElement(i.Z,{color:"primary",variant:"contained"},"Карта")),r.createElement(i.Z,{color:"secondary",variant:"contained",onClick:()=>{n&&l?P.db2_abtr.login(n,l).then((e=>{P.listeners.run("refresh",["login"]),P.log.informSuccess("Успешный вход в систему")})).catch((e=>{z.dir(e),e?.response?.status?p(`Ошибка ${e.response.status}. ${e?.response?.data?.detail||e?.response?.statusText}`):e.message&&"Network Error"===e.message?p("Ошибка сети. Проверьте наличие подключения."):p(e.data&&e.data.detail||e.msg||"Ошибка регистрации пользователя на сервере")})):p("Укажите имя пользователя и пароль")}},"Войти"))))}},802:function(e,n,t){t.d(n,{Fg:function(){return o}});t(7294);var r=t(9602),a=t(9711);const o=(0,r.ZP)(a.rU)`
     text-decoration: none;
`}}]);
//# sourceMappingURL=849.bundle.js.map